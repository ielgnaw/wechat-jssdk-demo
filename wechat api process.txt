
1. 前端发送一个请求到自己的服务器，参数为 encodeURIComponent(location.href.split('#')[0])，
这个 url 在计算签名时会用到。
2. 后端通过 https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=&secret=
获取 access_token
3. 通过第二步获取的 access_token 调用
https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=ACCESS_TOKEN&type=jsapi
可以获取 ticket
拿到 ticket 后 通过 SHA-1 算法计算签名，同时生成随机串 nonceStr 以及时间戳 timestamp
然后给前端返回签名、随机串、时间戳，前端用这些参数 调用 wx.config ，ready 后就可以调用 api

整个过程只给后端发送一个请求即第一个请求，后端在这个请求的处理中，会往微信服务器发送第二和第三个请求，完毕后，
把签名随机串时间戳作为第一个请求的响应返给前端
